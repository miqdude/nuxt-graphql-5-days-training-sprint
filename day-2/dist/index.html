<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">    
    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <title>Learn VueJS</title>
</head>
<body>
    <main id="app">
        <div class="container-fluid">
            <div class="row">
               {{title}}
            </div>
            <div class="row">
                <label for="addTodo">Add New Todo</label>
                <input id="addTodo" type="text" v-model="newTodo" v-on:keyup.enter="addTodo">
            </div>
            <div class="row">
                <ul class="">
                    <li v-for="todo in todos" class="">
                        <!-- <span><input type="text" v-model="todo.title"></span> -->
                        <div>
                            <span><label @dblclick="editTodo(todo)">{{todo.title}}</label></span>
                            <button v-on:click="removeTodo(todo)">remove</button>
                        </div>
                        <div v-show="todo.isediting">
                            <span><input type="text" v-model="editingValue" @keyup.enter="doneEditing(todo)"></span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </main>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script>
        var app = new Vue({
            el:'#app',
            data:{
                title: "Todo App",
                newTodo: '',
                todos: [],
                editingValue:null
            },
            methods:{
                addTodo: function(){
                    // console.log(this.newTodo)
                    this.todos.push({title:this.newTodo,isediting:false})
                    this.newTodo = ''
                },
                removeTodo:function(todo){
                    const indexTodo = this.todos.indexOf(todo)
                    this.todos.splice(indexTodo,1)
                },
                editTodo:function(todo){
                    console.log("editing")
                    const editingIndex = this.todos.indexOf(todo)
                    this.todos[editingIndex].isediting = true
                },
                doneEditing:function(todo){
                    console.log("done editing")

                    const editingIndex = this.todos.indexOf(todo) 
                    this.todos[editingIndex].title = this.editingValue
                    this.todos[editingIndex].isediting = false

                    this.editingValue=null
                },
            }
        })
    </script>
</body>
</html>